import{_ as U,a as $,c as L,i as V,B as Q,l as p,r as B,aE as I,f as q,o as d,ad as m,g as e,w as t,a0 as c,$ as A,ag as w,ah as k,e as y,am as b,ai as h,Z as u}from"./index.4e7ffe61.js";import{Q as F}from"./QSpace.d6d7e8bc.js";import{Q as P}from"./QInput.45689bc6.js";import{a as S,b as C,c as D,Q as x}from"./QTable.c45351ff.js";import{Q as E}from"./QBadge.5a60af85.js";import{a as N,Q as _}from"./QItem.83867145.js";import{Q as T}from"./QItemLabel.3f711634.js";import{Q as R}from"./QCardSection.d5991535.js";import{Q as M}from"./QCard.3bac19a9.js";import{Q as O}from"./QDialog.3ba84a94.js";import{u as Z}from"./ref.4ae668e5.js";import{b as j}from"./master.1a3bcf0d.js";import"./use-dark.310a2ad4.js";import"./uid.7f2d5a47.js";import"./focus-manager.4350be2f.js";import"./QSeparator.cba34036.js";import"./QVirtualScroll.ee1d2954.js";import"./QList.d19f89c1.js";import"./use-virtual-scroll.4eacf217.js";import"./rtl.8137048b.js";import"./scroll.fd17398b.js";import"./QSelect.1e3c2dc4.js";import"./position-engine.f00a6894.js";import"./selection.aee7b8d9.js";import"./use-prevent-scroll.7bdeec7e.js";import"./use-transition.405b2041.js";import"./use-timeout.a9330d7f.js";import"./format.00f09157.js";import"./QCheckbox.9f24491a.js";import"./use-fullscreen.d90a8f44.js";import"./axios.0a2aaee7.js";import"./auth.f8643573.js";const z=[{name:"index",required:!0,label:"#",align:"left",field:a=>a.index,format:a=>`${a}`,sortable:!0},{name:"nama",required:!0,label:"Nama Unsur",align:"left",field:a=>a.nama,format:a=>`${a}`,sortable:!0},{name:"is_active",align:"center",label:"Aktif",field:"is_active",sortable:!0}];Z();const r=j(),G=$({name:"master-unsur-sub-table",components:{formulir:L(()=>V(()=>import("./form.311c04a6.js"),["assets/form.311c04a6.js","assets/QInput.45689bc6.js","assets/index.4e7ffe61.js","assets/index.dd785630.css","assets/use-dark.310a2ad4.js","assets/uid.7f2d5a47.js","assets/focus-manager.4350be2f.js","assets/QSelect.1e3c2dc4.js","assets/QItem.83867145.js","assets/QItemLabel.3f711634.js","assets/position-engine.f00a6894.js","assets/selection.aee7b8d9.js","assets/use-prevent-scroll.7bdeec7e.js","assets/scroll.fd17398b.js","assets/use-transition.405b2041.js","assets/use-timeout.a9330d7f.js","assets/QDialog.3ba84a94.js","assets/use-virtual-scroll.4eacf217.js","assets/rtl.8137048b.js","assets/format.00f09157.js","assets/QCheckbox.9f24491a.js","assets/QForm.2a6e580a.js","assets/QInnerLoading.1db0864f.js","assets/ref.4ae668e5.js","assets/axios.0a2aaee7.js","assets/master.1a3bcf0d.js","assets/auth.f8643573.js"]))},setup(){const a=Q({search:null,dialogShow:p(()=>r.dialog.form),dialogTitle:"Penambahan Data",isLoading:p(()=>r.isLoading)}),s=Q({data:p(()=>{const i=r.data.data.map((n,g)=>(n.index=g+1,n));return a.search==null||a.search==""?i:i.filter(n=>n.nama.toLowerCase().includes(a.search.toLowerCase()))}),isLoading:p(()=>r.data.isLoading)}),v=r.form,f=B(null);return I(()=>r.getData()),{columns:z,table:s,state:a,form:v,myForm:f,storeUndang:r,async onActionForm(){const i=async()=>{await r.dataInsert(),a.dialogShow=!1};f.value.validate().then(n=>{n&&i()})},onFormShow(i,n){if(i=="add"){a.dialogTitle="Penambahan Data",r.dialog.form=!0;return}a.dialogTitle="Perubahan Data",r.form=n,r.dialog.form=!0}}}}),H=u("div",null,[u("p",{class:"text-weight-bold text-uppercase q-ma-none"},"Daftar Unsur"),u("span",{class:"text-caption"},"Surat Perintah Tugas")],-1),J={key:0},K={key:1},W={class:"q-gutter-sm"},X=u("img",{src:"/images/siaptindak.png",style:{width:"80px"}},null,-1);function Y(a,s,v,f,i,n){const g=q("formulir");return d(),m("div",null,[e(x,{rows:a.table.data,loading:a.table.isLoading,columns:a.columns,"row-key":"name"},{top:t(()=>[H,e(F),e(c,{label:"Tambah Data",class:"q-mr-sm radius5",color:"blue-8",icon:"add",onClick:s[0]||(s[0]=o=>a.onFormShow("add",""))}),e(c,{label:"Muat Ulang",class:"q-mr-sm radius5",color:"secondary",icon:"refresh",flat:"",onClick:s[1]||(s[1]=o=>a.storeUndang.getData())}),e(P,{filled:"",dense:"",debounce:"300",color:"primary",modelValue:a.state.search,"onUpdate:modelValue":s[2]||(s[2]=o=>a.state.search=o)},{append:t(()=>[e(A,{name:"search"})]),_:1},8,["modelValue"])]),header:t(o=>[e(S,{props:o,class:"bg-teal-1"},{default:t(()=>[(d(!0),m(w,null,k(o.cols,l=>(d(),y(C,{key:l.name,props:o},{default:t(()=>[b(h(l.label),1)]),_:2},1032,["props"]))),128)),e(C)]),_:2},1032,["props"])]),body:t(o=>[e(S,{props:o},{default:t(()=>[(d(!0),m(w,null,k(o.cols,l=>(d(),y(D,{key:l.name,props:o},{default:t(()=>[l.name=="is_active"?(d(),m("span",J,[e(E,{color:l.value?"positive":"red-5",label:l.value?"Aktif":"non Aktif"},null,8,["color","label"])])):(d(),m("span",K,h(l.value),1))]),_:2},1032,["props"]))),128)),e(D,{width:"200px"},{default:t(()=>[u("div",W,[e(c,{label:"Edit",icon:"edit",class:"radius5",color:"secondary",unelevated:"",onClick:l=>a.onFormShow("edit",o.row)},null,8,["onClick"]),e(c,{icon:"delete",class:"radius5",color:"red-5",unelevated:"",onClick:l=>a.storeUndang.dataDelete(o.row.unsur_sub_id)},null,8,["onClick"])])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","loading","columns"]),e(O,{persistent:"",modelValue:a.state.dialogShow,"onUpdate:modelValue":s[3]||(s[3]=o=>a.state.dialogShow=o)},{default:t(()=>[e(M,{style:{width:"700px","max-width":"80vw"},class:"radius10"},{default:t(()=>[e(N,null,{default:t(()=>[e(_,{avatar:""},{default:t(()=>[X]),_:1}),e(_),e(_,{side:"",class:"text-black"},{default:t(()=>[e(T,null,{default:t(()=>[b("UNSUR")]),_:1}),e(T,{caption:""},{default:t(()=>[b(h(a.state.dialogTitle),1)]),_:1})]),_:1})]),_:1}),e(R,null,{default:t(()=>[e(g)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var Ba=U(G,[["render",Y]]);export{Ba as default};
