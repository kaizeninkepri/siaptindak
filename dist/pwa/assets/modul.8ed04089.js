import{a as de,c as G,o as h,ad as _,Z as u,ai as C,aX as f,g as r,a0 as k,a1 as Z,ae as q,w as c,f as J,ag as R,ah as j,e as K,am as A,$ as ee,aY as le,i as te}from"./index.4e7ffe61.js";import{Q as ce}from"./QInput.45689bc6.js";import{Q as ue,a as I,b as F,c as P}from"./QTable.c45351ff.js";import{Q as oe}from"./QBadge.5a60af85.js";import{Q as W}from"./QTooltip.00bae92a.js";import{u as fe}from"./ref.4ae668e5.js";import{a as me,b as pe}from"./acl.98b141fc.js";import"./use-dark.310a2ad4.js";import"./uid.7f2d5a47.js";import"./focus-manager.4350be2f.js";import"./QSeparator.cba34036.js";import"./QVirtualScroll.ee1d2954.js";import"./QList.d19f89c1.js";import"./use-virtual-scroll.4eacf217.js";import"./rtl.8137048b.js";import"./scroll.fd17398b.js";import"./QSelect.1e3c2dc4.js";import"./QItem.83867145.js";import"./QItemLabel.3f711634.js";import"./position-engine.f00a6894.js";import"./selection.aee7b8d9.js";import"./use-prevent-scroll.7bdeec7e.js";import"./use-transition.405b2041.js";import"./use-timeout.a9330d7f.js";import"./QDialog.3ba84a94.js";import"./format.00f09157.js";import"./QCheckbox.9f24491a.js";import"./use-fullscreen.d90a8f44.js";import"./axios.0a2aaee7.js";const ne=new Set,g=new WeakMap,N=new WeakMap,E=new WeakMap,U=new WeakMap,he=new WeakMap,$=new WeakMap,L=new WeakMap,S=new WeakSet;let x;const y="__aa_tgt",X="__aa_del",ge=e=>{const t=ye(e);t&&t.forEach(i=>Ce(i))},_e=e=>{e.forEach(t=>{t.target===x&&be(),g.has(t.target)&&M(t.target)})};function ve(e){const t=U.get(e);t==null||t.disconnect();let i=g.get(e),n=0;const o=5;i||(i=z(e),g.set(e,i));const{offsetWidth:l,offsetHeight:d}=x,a=[i.top-o,l-(i.left+o+i.width),d-(i.top+o+i.height),i.left-o].map(v=>`${-1*Math.floor(v)}px`).join(" "),p=new IntersectionObserver(()=>{++n>1&&M(e)},{root:x,threshold:1,rootMargin:a});p.observe(e),U.set(e,p)}function M(e){clearTimeout(L.get(e));const t=B(e),i=typeof t=="function"?500:t.duration;L.set(e,setTimeout(async()=>{const n=E.get(e);(!n||await n.finished)&&(g.set(e,z(e)),ve(e))},i))}function be(){clearTimeout(L.get(x)),L.set(x,setTimeout(()=>{ne.forEach(e=>re(e,t=>ie(()=>M(t))))},100))}function we(e){setTimeout(()=>{he.set(e,setInterval(()=>ie(M.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function ie(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let Y,O;typeof window!="undefined"&&(x=document.documentElement,Y=new MutationObserver(ge),O=new ResizeObserver(_e),O.observe(x));function ye(e){return e.reduce((n,o)=>[...n,...Array.from(o.addedNodes),...Array.from(o.removedNodes)],[]).every(n=>n.nodeName==="#comment")?!1:e.reduce((n,o)=>{if(n===!1)return!1;if(o.target instanceof Element){if(V(o.target),!n.has(o.target)){n.add(o.target);for(let l=0;l<o.target.children.length;l++){const d=o.target.children.item(l);if(!!d){if(X in d)return!1;V(o.target,d),n.add(d)}}}if(o.removedNodes.length)for(let l=0;l<o.removedNodes.length;l++){const d=o.removedNodes[l];if(X in d)return!1;d instanceof Element&&(n.add(d),V(o.target,d),N.set(d,[o.previousSibling,o.nextSibling]))}}return n},new Set)}function V(e,t){!t&&!(y in e)?Object.defineProperty(e,y,{value:e}):t&&!(y in t)&&Object.defineProperty(t,y,{value:e})}function Ce(e){var t;const i=x.contains(e),n=g.has(e);i&&N.has(e)&&N.delete(e),E.has(e)&&((t=E.get(e))===null||t===void 0||t.cancel()),n&&i?ke(e):n&&!i?Te(e):xe(e)}function b(e){return Number(e.replace(/[^0-9.\-]/g,""))}function z(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function se(e,t,i){let n=t.width,o=t.height,l=i.width,d=i.height;const s=getComputedStyle(e);if(s.getPropertyValue("box-sizing")==="content-box"){const p=b(s.paddingTop)+b(s.paddingBottom)+b(s.borderTopWidth)+b(s.borderBottomWidth),v=b(s.paddingLeft)+b(s.paddingRight)+b(s.borderRightWidth)+b(s.borderLeftWidth);n-=v,l-=v,o-=p,d-=p}return[n,l,o,d].map(Math.round)}function B(e){return y in e&&$.has(e[y])?$.get(e[y]):{duration:250,easing:"ease-in-out"}}function ae(e){if(y in e)return e[y]}function H(e){const t=ae(e);return t?S.has(t):!1}function re(e,...t){t.forEach(i=>i(e,$.has(e)));for(let i=0;i<e.children.length;i++){const n=e.children.item(i);n&&t.forEach(o=>o(n,$.has(n)))}}function ke(e){const t=g.get(e),i=z(e);if(!H(e))return g.set(e,i);let n;if(!t)return;const o=B(e);if(typeof o!="function"){const l=t.left-i.left,d=t.top-i.top,[s,a,p,v]=se(e,t,i),w={transform:`translate(${l}px, ${d}px)`},T={transform:"translate(0, 0)"};s!==a&&(w.width=`${s}px`,T.width=`${a}px`),p!==v&&(w.height=`${p}px`,T.height=`${v}px`),n=e.animate([w,T],{duration:o.duration,easing:o.easing})}else n=new Animation(o(e,"remain",t,i)),n.play();E.set(e,n),g.set(e,i),n.addEventListener("finish",M.bind(null,e))}function xe(e){const t=z(e);g.set(e,t);const i=B(e);if(!H(e))return;let n;typeof i!="function"?n=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:i.duration*1.5,easing:"ease-in"}):(n=new Animation(i(e,"add",t)),n.play()),E.set(e,n),n.addEventListener("finish",M.bind(null,e))}function Te(e){var t;if(!N.has(e)||!g.has(e))return;const[i,n]=N.get(e);Object.defineProperty(e,X,{value:!0}),n&&n.parentNode&&n.parentNode instanceof Element?n.parentNode.insertBefore(e,n):i&&i.parentNode?i.parentNode.appendChild(e):(t=ae(e))===null||t===void 0||t.appendChild(e);function o(){var T;e.remove(),g.delete(e),N.delete(e),E.delete(e),(T=U.get(e))===null||T===void 0||T.disconnect()}if(!H(e))return o();const[l,d,s,a]=Ee(e),p=B(e),v=g.get(e);let w;Object.assign(e.style,{position:"absolute",top:`${l}px`,left:`${d}px`,width:`${s}px`,height:`${a}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof p!="function"?w=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:p.duration,easing:"ease-out"}):(w=new Animation(p(e,"remove",v)),w.play()),E.set(e,w),w.addEventListener("finish",o)}function Ee(e){const t=g.get(e),[i,,n]=se(e,t,z(e));let o=e.parentElement;for(;o&&(getComputedStyle(o).position==="static"||o instanceof HTMLBodyElement);)o=o.parentElement;o||(o=document.body);const l=getComputedStyle(o),d=g.get(o)||z(o),s=Math.round(t.top-d.top)-b(l.borderTopWidth),a=Math.round(t.left-d.left)-b(l.borderLeftWidth);return[s,a,i,n]}function Me(e,t={}){return Y&&O&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&typeof t!="function"&&!t.disrespectUserMotionPreference||(S.add(e),getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),re(e,M,we,o=>O==null?void 0:O.observe(o)),typeof t=="function"?$.set(e,t):$.set(e,{duration:250,easing:"ease-in-out",...t}),Y.observe(e,{childList:!0}),ne.add(e))),Object.freeze({parent:e,enable:()=>{S.add(e)},disable:()=>{S.delete(e)},isEnabled:()=>S.has(e)})}const Oe={mounted:(e,t)=>{Me(e,t.value||{})}};const Ne={class:"row justify-between"},$e={class:"col-lg-4 col-md-4 col-xs-12 col-sm-12"},ze={class:"text-h6"},Ae={class:"text-caption"},Pe={class:"col-lg-8 col-md-8 col-xs-12 col-sm-12"},Se={class:"row justify-end q-col-gutter-sm"},Qe={class:"col-lg-4 col-md-4 col-xs-12 col-sm-12 content-center flex"},We={class:"q-gutter-sm"},De={class:"col-lg-4 col-md-4 col-xs-12 col-sm-12"},Le={class:"q-mb-md"},Be={key:0,class:"bg-grey-3 q-pa-md radius10"},qe={key:1,class:"bg-grey-3 q-pa-md radius10"},Re={key:0},je={key:1},Ie={key:2},Fe={class:"q-gutter-sm"},Ve={class:"text-left q-pl-xl"},Ue={key:0,class:"tableChild"},Xe={class:"q-gutter-sm"},Q=fe(),m=me(),D=pe(),Ye=de({name:"acl-modul",preFetch({store:e}){Q.header.title="Halaman Modul",Q.header.subtitle="Informasi Data Modul Access Control List Pengguna",m.get_modul()},components:{formulir:G(()=>te(()=>import("./form.6d11f89a.js"),["assets/form.6d11f89a.js","assets/QInput.45689bc6.js","assets/index.4e7ffe61.js","assets/index.dd785630.css","assets/use-dark.310a2ad4.js","assets/uid.7f2d5a47.js","assets/focus-manager.4350be2f.js","assets/QCheckbox.9f24491a.js","assets/ref.4ae668e5.js","assets/axios.0a2aaee7.js","assets/acl.98b141fc.js"])),child:G(()=>te(()=>import("./form_child.34ded48b.js"),["assets/form_child.34ded48b.js","assets/QInput.45689bc6.js","assets/index.4e7ffe61.js","assets/index.dd785630.css","assets/use-dark.310a2ad4.js","assets/uid.7f2d5a47.js","assets/focus-manager.4350be2f.js","assets/QSelect.1e3c2dc4.js","assets/QItem.83867145.js","assets/QItemLabel.3f711634.js","assets/position-engine.f00a6894.js","assets/selection.aee7b8d9.js","assets/use-prevent-scroll.7bdeec7e.js","assets/scroll.fd17398b.js","assets/use-transition.405b2041.js","assets/use-timeout.a9330d7f.js","assets/QDialog.3ba84a94.js","assets/use-virtual-scroll.4eacf217.js","assets/rtl.8137048b.js","assets/format.00f09157.js","assets/QCheckbox.9f24491a.js","assets/ref.4ae668e5.js","assets/axios.0a2aaee7.js","assets/acl.98b141fc.js"]))},setup(){return{storeRef:Q,storemodul:m,columns,table:D}}}),xt=Object.assign(Ye,{setup(e){const t=n=>{m.dialog.form=!0,m.form=n},i=n=>{m.dialog.formChild=!0,m.child=n};return(n,o)=>{const l=J("formulir"),d=J("child");return h(),_("div",null,[u("div",Ne,[u("div",$e,[u("div",ze,C(f(Q).header.title),1),u("p",Ae,C(f(Q).header.subtitle),1)]),u("div",Pe,[u("div",Se,[u("div",Qe,[u("div",We,[r(k,{label:f(m).dialog.form?"Batal":"Tambah",icon:f(m).dialog.form?"close":"post_add",unelevated:"","no-caps":"",color:f(m).dialog.form?"negative":"primary",size:"md",onClick:o[0]||(o[0]=s=>f(m).dialog.form=!f(m).dialog.form)},null,8,["label","icon","color"]),r(k,{label:"Muat Ulang",dense:"","no-caps":"",flat:"",onClick:o[1]||(o[1]=s=>f(m).get_modul()),color:"orange-8",icon:"refresh"})])]),u("div",De,[r(ce,{label:"Pencarian",dense:"",filled:""})])])])]),Z((h(),_("div",Le,[f(m).dialog.form?(h(),_("div",Be,[r(l)])):q("",!0),f(m).dialog.formChild?(h(),_("div",qe,[r(d)])):q("",!0)])),[[f(Oe),{duration:200}]]),r(ue,{rows:f(D).rows,columns:f(D).columns,"row-key":"modul_id",loading:f(D).isLoading},{header:c(s=>[r(I,{props:s},{default:c(()=>[r(F,{"auto-width":""}),(h(!0),_(R,null,j(s.cols,a=>(h(),K(F,{key:a.name,props:s},{default:c(()=>[A(C(a.label),1)]),_:2},1032,["props"]))),128)),r(F)]),_:2},1032,["props"])]),body:c(s=>[r(I,{props:s},{default:c(()=>[r(P,{"auto-width":""},{default:c(()=>[r(k,{size:"sm",color:"accent",flat:"",dense:"",onClick:a=>s.expand=!s.expand,icon:s.expand?"expand_less":"expand_more"},null,8,["onClick","icon"])]),_:2},1024),(h(!0),_(R,null,j(s.cols,a=>(h(),K(P,{key:a.name,props:s},{default:c(()=>[a.name=="icon"?(h(),_("div",Re,[r(ee,{name:a.value,size:"md"},null,8,["name"])])):a.name=="is_active"?(h(),_("div",je,[r(oe,{color:a.value=="true"?"positive":"red-5",label:a.value=="true"?"Aktif":"Tidak Aktif",size:"md"},null,8,["color","label"])])):(h(),_("div",Ie,C(a.value),1))]),_:2},1032,["props"]))),128)),r(P,{width:"80"},{default:c(()=>[u("div",Fe,[r(k,{icon:"drive_file_rename_outline",size:"sm",unelevated:"",color:"orange-4",onClick:a=>t(s.row)},{default:c(()=>[r(W,null,{default:c(()=>[A("Edit Data")]),_:1})]),_:2},1032,["onClick"]),r(k,{onClick:a=>f(m).set_delete_modul(s.row.index,s.row.modul_id),icon:"delete",size:"sm",unelevated:"",color:"red-5"},{default:c(()=>[r(W,null,{default:c(()=>[A("Edit Data")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1032,["props"]),Z(r(I,{props:s},{default:c(()=>[r(P,{colspan:"100%",class:"bg-grey-2"},{default:c(()=>[u("div",Ve,[s.row.child.length?(h(),_("table",Ue,[(h(!0),_(R,null,j(s.row.child,(a,p)=>(h(),_("tr",{key:p},[u("td",null,C(p+1),1),u("td",null,C(a.nama),1),u("td",null,[r(ee,{name:a.icon,size:"md"},null,8,["name"])]),u("td",null,C(a.route_name),1),u("td",null,C(a.route_url),1),u("td",null,[r(oe,{color:a.is_active==!0?"positive":"red-5",label:a.is_active==!0?"Aktif":"Tidak Aktif",size:"md"},null,8,["color","label"])]),r(P,{width:"80"},{default:c(()=>[u("div",Xe,[r(k,{icon:"drive_file_rename_outline",size:"sm",unelevated:"",color:"orange-4",onClick:v=>i(a)},{default:c(()=>[r(W,null,{default:c(()=>[A("Edit Data")]),_:1})]),_:2},1032,["onClick"]),r(k,{onClick:v=>f(m).set_delete_modul_child(p,a.modul_child_id),icon:"delete",size:"sm",unelevated:"",color:"red-5"},{default:c(()=>[r(W,null,{default:c(()=>[A("Edit Data")]),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)]))),128))])):q("",!0),r(k,{label:"Tambah Child",color:"primary","no-caps":"",outline:"",class:"full-width",onClick:o[2]||(o[2]=a=>f(m).dialog.formChild=!0)})])]),_:2},1024)]),_:2},1032,["props"]),[[le,s.expand]])]),_:1},8,["rows","columns","loading"])])}}});export{xt as default};
