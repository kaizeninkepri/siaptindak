import{Q as $}from"./QSpace.d6d7e8bc.js";import{_ as T,a as j,B as g,l as m,aE as q,o as l,ad as s,g as e,w as r,a0 as c,$ as w,ag as b,ah as h,e as _,am as y,ai as k,Z as p}from"./index.4e7ffe61.js";import{Q as B}from"./QInput.45689bc6.js";import{a as Q,b as v,c as L,Q as V}from"./QTable.c45351ff.js";import{Q as x}from"./QBadge.5a60af85.js";import{u as S}from"./ref.4ae668e5.js";import"./master.1a3bcf0d.js";import{b as C}from"./spt.e9cfbe20.js";import"./use-dark.310a2ad4.js";import"./uid.7f2d5a47.js";import"./focus-manager.4350be2f.js";import"./QSeparator.cba34036.js";import"./QVirtualScroll.ee1d2954.js";import"./QList.d19f89c1.js";import"./use-virtual-scroll.4eacf217.js";import"./rtl.8137048b.js";import"./scroll.fd17398b.js";import"./QSelect.1e3c2dc4.js";import"./QItem.83867145.js";import"./QItemLabel.3f711634.js";import"./position-engine.f00a6894.js";import"./selection.aee7b8d9.js";import"./use-prevent-scroll.7bdeec7e.js";import"./use-transition.405b2041.js";import"./use-timeout.a9330d7f.js";import"./QDialog.3ba84a94.js";import"./format.00f09157.js";import"./QCheckbox.9f24491a.js";import"./use-fullscreen.d90a8f44.js";import"./axios.0a2aaee7.js";import"./auth.f8643573.js";const D=[{name:"index",required:!0,label:"#",align:"left",field:a=>a.index,format:a=>`${a}`,sortable:!0},{name:"pelapor",required:!0,label:"Pelapor",align:"left",field:a=>a.pelapor==null?"-":a.pelapor.nama,format:a=>`${a}`,sortable:!0},{name:"tanggal",required:!0,label:"Tanggal",align:"left",field:a=>a.kejadian_tgl,format:a=>`${a}`,sortable:!0},{name:"jam",required:!0,label:"Jam",align:"center",field:a=>a.kejadian_jam,format:a=>`${a}`,sortable:!0},{name:"solusi",required:!0,label:"Solusi / Tindakan",align:"left",field:a=>a.tindakan,format:a=>`${a}`,sortable:!0},{name:"tempat",required:!0,label:"Tempat",align:"left",field:a=>a.kejadian_tempat,format:a=>`${a}`,sortable:!0}];S();const d=C(),K=j({name:"laporan-harian-data",setup(){const a=g({search:null,dialogShow:m(()=>storeCategoryJabatan.dialog.form),dialogTitle:"Penambahan Data",isLoading:m(()=>d.data.isLoading)}),n=g({data:m(()=>{const u=d.data.data.map((i,f)=>(i.index=f+1,i));return a.search==null||a.search==""?u:u.filter(i=>i.tempat.toLowerCase().includes(a.search.toLowerCase()))}),isLoading:m(()=>d.data.isLoading)});return q(()=>d.getData()),{columns:D,table:n,state:a,storeLK:d}}}),N=p("div",null,[p("p",{class:"text-weight-bold text-uppercase q-ma-none"},"Laporan Kejadian"),p("span",{class:"text-caption"},"Surat Perintah Tugas")],-1),P={key:0},E={key:1},I={class:"q-gutter-sm"};function J(a,n,u,i,f,M){return l(),s("div",null,[e(V,{rows:a.table.data,loading:a.table.isLoading,columns:a.columns,"row-key":"name"},{top:r(()=>[N,e($),e(c,{label:"Tambah Data",class:"q-mr-sm radius5",color:"blue-8",icon:"add",to:{name:"laporan-kejadian-form"}}),e(c,{label:"Muat Ulang",class:"q-mr-sm radius5",color:"secondary",icon:"refresh",flat:"",onClick:n[0]||(n[0]=t=>a.storeLK.getData())}),e(B,{filled:"",dense:"",debounce:"300",color:"primary",modelValue:a.state.search,"onUpdate:modelValue":n[1]||(n[1]=t=>a.state.search=t)},{append:r(()=>[e(w,{name:"search"})]),_:1},8,["modelValue"])]),header:r(t=>[e(Q,{props:t,class:"bg-teal-1"},{default:r(()=>[(l(!0),s(b,null,h(t.cols,o=>(l(),_(v,{key:o.name,props:t},{default:r(()=>[y(k(o.label),1)]),_:2},1032,["props"]))),128)),e(v)]),_:2},1032,["props"])]),body:r(t=>[e(Q,{props:t},{default:r(()=>[(l(!0),s(b,null,h(t.cols,o=>(l(),_(L,{key:o.name,props:t},{default:r(()=>[o.name=="status"?(l(),s("span",P,[e(x,{color:o.value?"positive":"red-5",label:o.value?"Verfikasi":"Belum di Verifikasi"},null,8,["color","label"])])):(l(),s("span",E,k(o.value),1))]),_:2},1032,["props"]))),128)),e(L,{width:"200px"},{default:r(()=>[p("div",I,[e(c,{label:"Rincian Data",icon:"next_plan",class:"radius5",color:"indigo-4",unelevated:"",to:{name:"laporan-kejadian-detail",params:{v:t.row.laporan_kejadian_id}}},null,8,["to"])])]),_:2},1024)]),_:2},1032,["props"])]),_:1},8,["rows","loading","columns"])])}var ka=T(K,[["render",J]]);export{ka as default};
