import{d as $}from"./geosearch.module.c128ee23.js";var ae={},A={},ie=function(t){t=t||typeof process=="object"&&process.nextTick||typeof setImmediate=="function"&&setImmediate||function(a){setTimeout(a,0)};var e=function(){var a=[],o=0,u=1024;function s(){for(;a.length-o;){try{a[o]()}catch{}a[o++]=void 0,o===u&&(a.splice(0,u),o=0)}}return function(l){a.push(l),a.length-o===1&&t(s)}}();function r(a){if(a){var o=this;a(function(u){o.resolve(u)},function(u){o.reject(u)})}}r.prototype={resolve:function(a){if(this.state===void 0){if(a===this)return this.reject(new TypeError("Attempt to resolve promise with self"));var o=this;if(a&&(typeof a=="function"||typeof a=="object"))try{var u=0,s=a.then;if(typeof s=="function"){s.call(a,function(l){u++||o.resolve(l)},function(l){u++||o.reject(l)});return}}catch(l){u||this.reject(l);return}this.state=n,this.v=a,o.c&&e(function(){for(var l=0,c=o.c.length;l<c;l++)n(o.c[l],a)})}},reject:function(a){if(this.state===void 0){this.state=i,this.v=a;var o=this.c;o&&e(function(){for(var u=0,s=o.length;u<s;u++)i(o[u],a)})}},then:function(a,o){var u=new r,s={y:a,n:o,p:u};if(this.state===void 0)this.c?this.c.push(s):this.c=[s];else{var l=this.state,c=this.v;e(function(){l(s,c)})}return u}};function n(a,o){if(typeof a.y=="function")try{var u=a.y.call(void 0,o);a.p.resolve(u)}catch(s){a.p.reject(s)}else a.p.resolve(o)}function i(a,o){if(typeof a.n=="function")try{var u=a.n.call(void 0,o);a.p.resolve(u)}catch(s){a.p.reject(s)}else a.p.reject(o)}return r.resolve=function(a){if(a&&a instanceof r)return a;var o=new r;return o.resolve(a),o},r.reject=function(a){if(a&&a instanceof r)return a;var o=new r;return o.reject(a),o},r.version="2.3.3-nodent",r},oe=function(){function t(u){return u&&u instanceof Object&&typeof u.then=="function"}function e(u,s,l){try{var c=l?l(s):s;if(u===c)return u.reject(new TypeError("Promise resolution loop"));t(c)?c.then(function(f){e(u,f)},function(f){u.reject(f)}):u.resolve(c)}catch(f){u.reject(f)}}function r(u){}function n(u,s){this.resolve=u,this.reject=s}function i(){}i.prototype={resolve:r,reject:r,then:n};function a(u,s){var l=new i;try{this._resolver(function(c){return t(c)?c.then(u,s):e(l,c,u)},function(c){e(l,c,s)})}catch(c){e(l,c,s)}return l}function o(u){this._resolver=u,this.then=a}return o.resolve=function(u){return o.isThenable(u)?u:{then:function(s){return s(u)}}},o.isThenable=t,o};function ue(t,e){for(var r=e.toString(),n="return "+r,i=r.match(/.*\(([^)]*)\)/)[1],a=/['"]!!!([^'"]*)['"]/g,o=[];;){var u=a.exec(n);if(u)o.push(u);else break}return o.reverse().forEach(function(s){n=n.slice(0,s.index)+t[s[1]]+n.substr(s.index+s[0].length)}),n=n.replace(/\/\*[^*]*\*\//g," ").replace(/\s+/g," "),new Function(i,n)()}var X=ue({zousan:ie.toString(),thenable:oe.toString()},function t(e,r){Function.prototype.$asyncbind||Object.defineProperty(Function.prototype,"$asyncbind",{value:t,enumerable:!1,configurable:!0,writable:!0}),t.trampoline||(t.trampoline=function(o,u,s,l,c){return function f(d){for(;d;){if(d.then)return d=d.then(f,l),c?void 0:d;try{if(d.pop){if(d.length)return d.pop()?u.call(o):d;d=s}else d=d.call(o)}catch(v){return l(v)}}}}),t.LazyThenable||(t.LazyThenable="!!!thenable"(),t.EagerThenable=t.Thenable=(t.EagerThenableFactory="!!!zousan")());function n(){return i.apply(e,arguments)}var i=this;switch(r){case!0:return new t.Thenable(n);case 0:return new t.LazyThenable(n);case void 0:return n.then=n,n;default:return function(){try{return i.apply(e,arguments)}catch(a){return r(a)}}}});function I(t,e){if(Function.prototype.$asyncspawn||Object.defineProperty(Function.prototype,"$asyncspawn",{value:I,enumerable:!1,configurable:!0,writable:!0}),this instanceof Function){var r=this;return new t(function(i,a){var o=r.call(e,i,a);function u(s,l){var c;try{if(c=s.call(o,l),c.done){if(c.value!==i){if(c.value&&c.value===c.value.then)return c.value(i,a);i&&i(c.value),i=null}return}c.value.then?c.value.then(function(f){u(o.next,f)},function(f){u(o.throw,f)}):u(o.next,c.value)}catch(f){a&&a(f),a=null;return}}u(o.next)})}}X();I();var S={$asyncbind:X,$asyncspawn:I},se="Expected a function",Z=0/0,le="[object Symbol]",ce=/^\s+|\s+$/g,fe=/^[-+]0x[0-9a-f]+$/i,de=/^0b[01]+$/i,he=/^0o[0-7]+$/i,me=parseInt,ve=typeof $=="object"&&$&&$.Object===Object&&$,pe=typeof self=="object"&&self&&self.Object===Object&&self,ye=ve||pe||Function("return this")(),be=Object.prototype,ge=be.toString,_e=Math.max,Ee=Math.min,N=function(){return ye.Date.now()};function we(t,e,r){var n,i,a,o,u,s,l=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(se);e=H(e)||0,M(r)&&(c=!!r.leading,f="maxWait"in r,a=f?_e(H(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function v(h){var _=n,j=i;return n=i=void 0,l=h,o=t.apply(j,_),o}function R(h){return l=h,u=setTimeout(g,e),c?v(h):o}function m(h){var _=h-s,j=h-l,B=e-_;return f?Ee(B,a-j):B}function w(h){var _=h-s,j=h-l;return s===void 0||_>=e||_<0||f&&j>=a}function g(){var h=N();if(w(h))return W(h);u=setTimeout(g,m(h))}function W(h){return u=void 0,d&&n?v(h):(n=i=void 0,o)}function ne(){u!==void 0&&clearTimeout(u),l=0,n=s=i=u=void 0}function re(){return u===void 0?o:W(N())}function x(){var h=N(),_=w(h);if(n=arguments,i=this,s=h,_){if(u===void 0)return R(s);if(f)return u=setTimeout(g,e),v(s)}return u===void 0&&(u=setTimeout(g,e)),o}return x.cancel=ne,x.flush=re,x}function M(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Oe(t){return!!t&&typeof t=="object"}function Pe(t){return typeof t=="symbol"||Oe(t)&&ge.call(t)==le}function H(t){if(typeof t=="number")return t;if(Pe(t))return Z;if(M(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=M(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(ce,"");var r=de.test(t);return r||he.test(t)?me(t.slice(2),r?2:8):fe.test(t)?Z:+t}var ke=we,C={},b={};Object.defineProperty(b,"__esModule",{value:!0});var Le=b.createElement=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=document.createElement(e);return i.className=r,n&&n.appendChild(i),i};b.createScriptElement=function(e,r){var n=Le("script",null,document.body);return n.setAttribute("type","text/javascript"),new Promise(function(i){window[r]=function(a){n.remove(),delete window[r],i(a)},n.setAttribute("src",e)})};b.addClassName=function(e,r){e&&!e.classList.contains(r)&&e.classList.add(r)};b.removeClassName=function(e,r){e&&e.classList.contains(r)&&e.classList.remove(r)};var y={};Object.defineProperty(y,"__esModule",{value:!0});var Re=y.ENTER_KEY=13,je=y.ESCAPE_KEY=27,Se=y.ARROW_DOWN_KEY=40,$e=y.ARROW_UP_KEY=38,Ce=y.ARROW_LEFT_KEY=37,Te=y.ARROW_RIGHT_KEY=39;y.SPECIAL_KEYS=[Re,je,Se,$e,Ce,Te];Object.defineProperty(C,"__esModule",{value:!0});var xe=S;Me(xe);var Ne=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),p=b,U=y;function Me(t){return t&&t.__esModule?t:{default:t}}function Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ie=function(){function t(){var e=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.handleSubmit,i=n===void 0?function(){}:n,a=r.searchLabel,o=a===void 0?"search":a,u=r.classNames,s=u===void 0?{}:u;Ae(this,t);var l=(0,p.createElement)("div",["geosearch",s.container].join(" ")),c=(0,p.createElement)("form",["",s.form].join(" "),l),f=(0,p.createElement)("input",["glass",s.input].join(" "),c);f.type="text",f.placeholder=o,f.addEventListener("input",function(d){e.onInput(d)},!1),f.addEventListener("keyup",function(d){e.onKeyUp(d)},!1),f.addEventListener("keypress",function(d){e.onKeyPress(d)},!1),f.addEventListener("focus",function(d){e.onFocus(d)},!1),f.addEventListener("blur",function(d){e.onBlur(d)},!1),this.elements={container:l,form:c,input:f},this.handleSubmit=i}return Ne(t,[{key:"onFocus",value:function(){(0,p.addClassName)(this.elements.form,"active")}},{key:"onBlur",value:function(){(0,p.removeClassName)(this.elements.form,"active")}},{key:"onSubmit",value:function(r){return new Promise(function(n,i){var a,o,u;return r.preventDefault(),r.stopPropagation(),a=this.elements,o=a.input,u=a.container,(0,p.removeClassName)(u,"error"),(0,p.addClassName)(u,"pending"),this.handleSubmit({query:o.value}).then(function(s){return(0,p.removeClassName)(u,"pending"),n()}.$asyncbind(this,i),i)}.$asyncbind(this))}},{key:"onInput",value:function(){var r=this.elements.container;this.hasError&&((0,p.removeClassName)(r,"error"),this.hasError=!1)}},{key:"onKeyUp",value:function(r){var n=this.elements,i=n.container,a=n.input;r.keyCode===U.ESCAPE_KEY&&((0,p.removeClassName)(i,"pending"),(0,p.removeClassName)(i,"active"),a.value="",document.body.focus(),document.body.blur())}},{key:"onKeyPress",value:function(r){r.keyCode===U.ENTER_KEY&&this.onSubmit(r)}},{key:"setQuery",value:function(r){var n=this.elements.input;n.value=r}}]),t}();C.default=Ie;var F={};Object.defineProperty(F,"__esModule",{value:!0});var Fe=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),O=b;function De(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var z=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.join(" ").trim()},qe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.handleClick,n=r===void 0?function(){}:r,i=e.classNames,a=i===void 0?{}:i;De(this,t),Ke.call(this),this.props={handleClick:n,classNames:a},this.selected=-1;var o=(0,O.createElement)("div",z("results",a.container)),u=(0,O.createElement)("div",z(a.item));o.addEventListener("click",this.onClick,!0),this.elements={container:o,resultItem:u}}return Fe(t,[{key:"render",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=this.elements,i=n.container,a=n.resultItem;this.clear(),r.forEach(function(o,u){var s=a.cloneNode(!0);s.setAttribute("data-key",u),s.innerHTML=o.label,i.appendChild(s)}),r.length>0&&(0,O.addClassName)(i,"active"),this.results=r}},{key:"select",value:function(r){var n=this.elements.container;return Array.from(n.children).forEach(function(i,a){return a===r?(0,O.addClassName)(i,"active"):(0,O.removeClassName)(i,"active")}),this.selected=r,this.results[r]}},{key:"count",value:function(){return this.results?this.results.length:0}},{key:"clear",value:function(){var r=this.elements.container;for(this.selected=-1;r.lastChild;)r.removeChild(r.lastChild);(0,O.removeClassName)(r,"active")}}]),t}(),Ke=function(){var e=this;this.onClick=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.target,i=e.props.handleClick,a=e.elements.container;if(!(n.parentNode!==a||!n.hasAttribute("data-key"))){var o=n.getAttribute("data-key"),u=e.results[o];i({result:u})}}};F.default=qe;Object.defineProperty(A,"__esModule",{value:!0});var Ye=S;T(Ye);var G=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};A.default=Ve;var We=ke,Be=T(We),Ze=C,He=T(Ze),Ue=F,ze=T(Ue),P=b,k=y;function T(t){return t&&t.__esModule?t:{default:t}}var Ge=function(){return{position:"topleft",style:"button",showMarker:!0,showPopup:!1,popupFormat:function(r){var n=r.result;return""+n.label},marker:{icon:new L.Icon.Default,draggable:!1},maxMarkers:1,retainZoomLevel:!1,animateZoom:!0,searchLabel:"Enter address",notFoundMessage:"Sorry, that address could not be found.",messageHideDelay:3e3,zoomLevel:18,classNames:{container:"leaflet-bar leaflet-control leaflet-control-geosearch",button:"leaflet-bar-part leaflet-bar-part-single",resetButton:"reset",msgbox:"leaflet-bar message",form:"",input:""},autoComplete:!0,autoCompleteDelay:250,autoClose:!1,keepResult:!1}},Q={},V=["dragging","touchZoom","doubleClickZoom","scrollWheelZoom","boxZoom","keyboard"],Qe={initialize:function(e){var r=this;this.markers=new L.FeatureGroup,this.handlersDisabled=!1,this.options=G({},Ge(),e);var n=this.options,i=n.style,a=n.classNames,o=n.searchLabel,u=n.autoComplete,s=n.autoCompleteDelay;i!=="button"&&(this.options.classNames.container+=" "+e.style),this.searchElement=new He.default(G({},this.options,{handleSubmit:function(w){return r.onSubmit(w)}}));var l=this.searchElement.elements,c=l.container,f=l.form,d=l.input,v=(0,P.createElement)("a",a.button,c);v.title=o,v.href="#",v.addEventListener("click",function(m){r.onClick(m)},!1);var R=(0,P.createElement)("a",a.resetButton,f);R.innerHTML="X",v.href="#",R.addEventListener("click",function(){r.clearResults(null,!0)},!1),u&&(this.resultList=new ze.default({handleClick:function(w){var g=w.result;d.value=g.label,r.onSubmit({query:g.label,data:g})}}),f.appendChild(this.resultList.elements.container),d.addEventListener("keyup",(0,Be.default)(function(m){return r.autoSearch(m)},s),!0),d.addEventListener("keydown",function(m){return r.selectResult(m)},!0),d.addEventListener("keydown",function(m){return r.clearResults(m,!0)},!0)),f.addEventListener("mouseenter",function(m){return r.disableHandlers(m)},!0),f.addEventListener("mouseleave",function(m){return r.restoreHandlers(m)},!0),this.elements={button:v,resetButton:R}},onAdd:function(e){var r=this.options,n=r.showMarker,i=r.style;if(this.map=e,n&&this.markers.addTo(e),i==="bar"){var a=this.searchElement.elements.form,o=e.getContainer().querySelector(".leaflet-control-container"),u=(0,P.createElement)("div","leaflet-control-geosearch bar");u.appendChild(a),o.appendChild(u),this.elements.container=u}return this.searchElement.elements.container},onRemove:function(){var e=this.elements.container;return e&&e.remove(),this},onClick:function(e){e.preventDefault();var r=this.searchElement.elements,n=r.container,i=r.input;n.classList.contains("active")?((0,P.removeClassName)(n,"active"),this.clearResults()):((0,P.addClassName)(n,"active"),i.focus())},disableHandlers:function(e){var r=this,n=this.searchElement.elements.form;this.handlersDisabled||e&&e.target!==n||(this.handlersDisabled=!0,V.forEach(function(i){r.map[i]&&(Q[i]=r.map[i].enabled(),r.map[i].disable())}))},restoreHandlers:function(e){var r=this,n=this.searchElement.elements.form;!this.handlersDisabled||e&&e.target!==n||(this.handlersDisabled=!1,V.forEach(function(i){Q[i]&&r.map[i].enable()}))},selectResult:function(e){if(!![k.ENTER_KEY,k.ARROW_DOWN_KEY,k.ARROW_UP_KEY].includes(e.keyCode)){e.preventDefault();var r=this.searchElement.elements.input,n=this.resultList;if(e.keyCode===k.ENTER_KEY){var i=n.select(n.selected);this.onSubmit({query:r.value,data:i});return}var a=n.count()-1;if(!(a<0)){var o=e.code==="ArrowDown"?~~n.selected+1:~~n.selected-1,u=o<0?a:o>a?0:o,s=n.select(u);r.value=s.label}}},clearResults:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(e&&e.keyCode!==k.ESCAPE_KEY)){var n=this.searchElement.elements.input,i=this.options,a=i.keepResult,o=i.autoComplete;(r||!a)&&(n.value="",this.markers.clearLayers()),o&&this.resultList.clear()}},autoSearch:function(e){return new Promise(function(r,n){var i,a,o;if(k.SPECIAL_KEYS.includes(e.keyCode))return r();if(i=e.target.value,a=this.options.provider,i.length)return a.search({query:i}).then(function(s){return o=s,this.resultList.render(o),u.call(this)}.$asyncbind(this,n),n);return this.resultList.clear(),u.call(this);function u(){return r()}}.$asyncbind(this))},onSubmit:function(e){return new Promise(function(r,n){var i,a;return i=this.options.provider,i.search(e).then(function(o){return a=o,a&&a.length>0&&this.showResult(a[0],e),r()}.$asyncbind(this,n),n)}.$asyncbind(this))},showResult:function(e,r){var n=r.query,i=this.options.autoClose,a=Object.keys(this.markers._layers);a.length>=this.options.maxMarkers&&this.markers.removeLayer(a[0]);var o=this.addMarker(e,n);this.centerMap(e),this.map.fireEvent("geosearch/showlocation",{location:e,marker:o}),i&&this.closeResults()},closeResults:function(){var e=this.searchElement.elements.container;e.classList.contains("active")&&(0,P.removeClassName)(e,"active"),this.restoreHandlers(),this.clearResults()},addMarker:function(e,r){var n=this,i=this.options,a=i.marker,o=i.showPopup,u=i.popupFormat,s=new L.Marker([e.y,e.x],a),l=e.label;return typeof u=="function"&&(l=u({query:r,result:e})),s.bindPopup(l),this.markers.addLayer(s),o&&s.openPopup(),a.draggable&&s.on("dragend",function(c){n.map.fireEvent("geosearch/marker/dragend",{location:s.getLatLng(),event:c})}),s},centerMap:function(e){var r=this.options,n=r.retainZoomLevel,i=r.animateZoom,a=new L.LatLngBounds(e.bounds),o=a.isValid()?a:this.markers.getBounds();!n&&a.isValid()?this.map.fitBounds(o,{animate:i}):this.map.setView(o.getCenter(),this.getZoom(),{animate:i})},getZoom:function(){var e=this.options,r=e.retainZoomLevel,n=e.zoomLevel;return r?this.map.getZoom():n}};function Ve(){if(!L||!L.Control||!L.Control.extend)throw new Error("Leaflet must be loaded before instantiating the GeoSearch control");for(var t=L.Control.extend(Qe),e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return new(Function.prototype.bind.apply(t,[null].concat(r)))}var D={},E={};Object.defineProperty(E,"__esModule",{value:!0});var Je=S;et(Je);var Xe=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function et(t){return t&&t.__esModule?t:{default:t}}function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var nt=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};tt(this,t),this.options=e}return Xe(t,[{key:"getParamString",value:function(r){return Object.keys(r).map(function(n){return encodeURIComponent(n)+"="+encodeURIComponent(r[n])}).join("&")}},{key:"search",value:function(r){return new Promise(function(n,i){var a,o,u,s,l;return a=r.query,o=~location.protocol.indexOf("http")?location.protocol:"https:",u=this.endpoint({query:a,protocol:o}),fetch(u).then(function(c){return s=c,s.json().then(function(f){return l=f,n(this.parse({data:l}))}.$asyncbind(this,i),i)}.$asyncbind(this,i),i)}.$asyncbind(this))}}]),t}();E.default=nt;Object.defineProperty(D,"__esModule",{value:!0});var rt=S;ee(rt);var at=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},it=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),ot=E,ut=ee(ot),st=b;function ee(t){return t&&t.__esModule?t:{default:t}}function lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ct(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dt=function(t){ft(e,t);function e(){return lt(this,e),ct(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return it(e,[{key:"endpoint",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.query,a=n.protocol,o=n.jsonp,u=this.options.params,s=this.getParamString(at({},u,{query:i,jsonp:o}));return a+"//dev.virtualearth.net/REST/v1/Locations?"+s}},{key:"parse",value:function(n){var i=n.data;return i.resourceSets.length===0?[]:i.resourceSets[0].resources.map(function(a){return{x:a.point.coordinates[1],y:a.point.coordinates[0],label:a.address.formattedAddress,bounds:[[a.bbox[0],a.bbox[1]],[a.bbox[2],a.bbox[3]]],raw:a}})}},{key:"search",value:function(n){return new Promise(function(i,a){var o,u,s,l,c;return o=n.query,u=~location.protocol.indexOf("http")?location.protocol:"https:",s="BING_JSONP_CB_"+Date.now(),l=this.endpoint({query:o,protocol:u,jsonp:s}),(0,st.createScriptElement)(l,s).then(function(f){return c=f,i(this.parse({data:c}))}.$asyncbind(this,a),a)}.$asyncbind(this))}}]),e}(ut.default);D.default=dt;var q={};Object.defineProperty(q,"__esModule",{value:!0});var ht=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mt=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),vt=E,pt=yt(vt);function yt(t){return t&&t.__esModule?t:{default:t}}function bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _t(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Et=function(t){_t(e,t);function e(){return bt(this,e),gt(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return mt(e,[{key:"endpoint",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.query,a=n.protocol,o=this.options.params,u=this.getParamString(ht({},o,{f:"json",text:i}));return a+"//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/find?"+u}},{key:"parse",value:function(n){var i=n.data;return i.locations.map(function(a){return{x:a.feature.geometry.x,y:a.feature.geometry.y,label:a.name,bounds:[[a.extent.ymin,a.extent.xmin],[a.extent.ymax,a.extent.xmax]],raw:a}})}}]),e}(pt.default);q.default=Et;var K={};Object.defineProperty(K,"__esModule",{value:!0});var wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ot=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Pt=E,kt=Lt(Pt);function Lt(t){return t&&t.__esModule?t:{default:t}}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function St(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $t=function(t){St(e,t);function e(){return Rt(this,e),jt(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Ot(e,[{key:"endpoint",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.query,a=n.protocol,o=this.options.params,u=this.getParamString(wt({},o,{address:i})),s=o&&o.key?"https:":a;return s+"//maps.googleapis.com/maps/api/geocode/json?"+u}},{key:"parse",value:function(n){var i=n.data;return i.results.map(function(a){return{x:a.geometry.location.lng,y:a.geometry.location.lat,label:a.formatted_address,bounds:[[a.geometry.viewport.southwest.lat,a.geometry.viewport.southwest.lng],[a.geometry.viewport.northeast.lat,a.geometry.viewport.northeast.lng]],raw:a}})}}]),e}(kt.default);K.default=$t;var Y={};Object.defineProperty(Y,"__esModule",{value:!0});var Ct=S;te(Ct);var J=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tt=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),xt=E,Nt=te(xt);function te(t){return t&&t.__esModule?t:{default:t}}function Mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function At(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function It(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ft=function(t){It(e,t);function e(){return Mt(this,e),At(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Tt(e,[{key:"endpoint",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.query,a=this.options.params,o=this.getParamString(J({},a,{format:"json",q:i}));return"https://nominatim.openstreetmap.org/search?"+o}},{key:"endpointReverse",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.data,a=this.options.params,o=this.getParamString(J({},a,{format:"json",osm_id:i.raw.osm_id,osm_type:this.translateOsmType(i.raw.osm_type)}));return"https://nominatim.openstreetmap.org/reverse?"+o}},{key:"parse",value:function(n){var i=n.data;return i.map(function(a){return{x:a.lon,y:a.lat,label:a.display_name,bounds:[[parseFloat(a.boundingbox[0]),parseFloat(a.boundingbox[2])],[parseFloat(a.boundingbox[1]),parseFloat(a.boundingbox[3])]],raw:a}})}},{key:"search",value:function(n){return new Promise(function(i,a){var o,u,s,l,c,f;return o=n.query,u=n.data,s=~location.protocol.indexOf("http")?location.protocol:"https:",l=u?this.endpointReverse({data:u,protocol:s}):this.endpoint({query:o,protocol:s}),fetch(l).then(function(d){return c=d,c.json().then(function(v){return f=v,i(this.parse({data:u?[f]:f}))}.$asyncbind(this,a),a)}.$asyncbind(this,a),a)}.$asyncbind(this))}},{key:"translateOsmType",value:function(n){return n==="node"?"N":n==="way"?"W":n==="relation"?"R":""}}]),e}(Nt.default);Y.default=Ft;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=A;Object.defineProperty(t,"GeoSearchControl",{enumerable:!0,get:function(){return s(e).default}});var r=C;Object.defineProperty(t,"SearchElement",{enumerable:!0,get:function(){return s(r).default}});var n=D;Object.defineProperty(t,"BingProvider",{enumerable:!0,get:function(){return s(n).default}});var i=q;Object.defineProperty(t,"EsriProvider",{enumerable:!0,get:function(){return s(i).default}});var a=K;Object.defineProperty(t,"GoogleProvider",{enumerable:!0,get:function(){return s(a).default}});var o=Y;Object.defineProperty(t,"OpenStreetMapProvider",{enumerable:!0,get:function(){return s(o).default}});var u=E;Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return s(u).default}});function s(l){return l&&l.__esModule?l:{default:l}}})(ae);
