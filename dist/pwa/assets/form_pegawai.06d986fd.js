import{_ as f,a as _,r as v,l as b,aE as h,o as d,ad as m,Z as s,g as p,a0 as u,ag as P,ah as k,e as C,ae as S}from"./index.4e7ffe61.js";import{Q as w}from"./QSelect.1e3c2dc4.js";import{u as V}from"./spt.e9cfbe20.js";import{u as F}from"./master.1a3bcf0d.js";import"./QInput.45689bc6.js";import"./use-dark.310a2ad4.js";import"./uid.7f2d5a47.js";import"./focus-manager.4350be2f.js";import"./QItem.83867145.js";import"./QItemLabel.3f711634.js";import"./position-engine.f00a6894.js";import"./selection.aee7b8d9.js";import"./use-prevent-scroll.7bdeec7e.js";import"./scroll.fd17398b.js";import"./use-transition.405b2041.js";import"./use-timeout.a9330d7f.js";import"./QDialog.3ba84a94.js";import"./use-virtual-scroll.4eacf217.js";import"./rtl.8137048b.js";import"./format.00f09157.js";import"./auth.f8643573.js";import"./axios.0a2aaee7.js";import"./ref.4ae668e5.js";const l=V();F();const A=_({name:"spt-pegawai-dasar",setup(){const e=l.spt,t=v(null),g=b(()=>{const o=l.pegawai.data.filter(a=>a.is_active==!0);return t.value==""||t.value==null?o:o.filter(a=>a.nama.toLowerCase().includes(t.value.toLowerCase()))});return h(()=>{if(l.pegawai.data.length==0){l.pegawaiAvaibaleGet();return}}),{pegawai:g,form:e,search:t,async onReload(){await l.pegawaiAvaibaleGet(),t.value=null},filterPegawaiFn(o,a){if(o===""){a(()=>{t.value=null});return}a(()=>{const n=o.toLowerCase();t.value=n})},onSelected(o){t.value=null;const a=l.pegawai.data.findIndex(n=>n.pegawai_id==o);l.pegawai.data[a].isSelected=!0},onAddPegawaiForm(){e.petugas.push({spt_pegawai_id:null,pegawai_id:null,jabatan_spt:"Anggota"})},onDeletePegawaiForm(o,a){l.pegawai.data.findIndex(n=>n.pegawai_id==o),e.petugas.splice(a,1)}}}}),y={class:"row q-col-gutter-sm items-center"},q=s("div",{class:"col-lg-8 col-md-8 col-sm-12 col-xs-12"},[s("p",{class:"q-mb-xs text-grey-9 text-weight-bold"},"PETUGAS")],-1),B={class:"col-lg-2 col-md-2 col-sm-12 col-xs-12"},U={class:"q-gutter-sm"},x={class:"col-lg-8 col-md-8 col-sm-12 col-xs-12"},$={class:"col-lg-3 col-md-3 col-sm-10 col-xs-10"},L={class:"col-lg-1 col-md-1 col-sm-11 col-xs-11"};function N(e,t,g,o,a,n){return d(),m("div",null,[s("div",y,[q,s("div",B,[s("div",U,[p(u,{label:"Refresh",icon:"refresh",flat:"",color:"secondary",onClick:e.onReload},null,8,["onClick"])])])]),(d(!0),m(P,null,k(e.form.petugas,(r,c)=>(d(),m("div",{class:"row q-col-gutter-sm q-mt-md",key:c},[s("div",x,[p(w,{filled:"",dense:"",label:"Nama Pegawai",modelValue:r.pegawai_id,"onUpdate:modelValue":[i=>r.pegawai_id=i,e.onSelected],options:e.pegawai,"option-label":"nama","option-value":"pegawai_id","option-disable":"isSelected","map-options":"","emit-value":"","use-input":"","input-debounce":"0",onFilter:e.filterPegawaiFn,rules:[i=>i!==null&&i!==""||"Please type something"]},null,8,["modelValue","onUpdate:modelValue","options","onFilter","rules"])]),s("div",$,[p(w,{options:["Koordinator","Anggota"],filled:"",dense:"",label:"Jabatan SPT",modelValue:r.jabatan_spt,"onUpdate:modelValue":i=>r.jabatan_spt=i},null,8,["modelValue","onUpdate:modelValue"])]),s("div",L,[c>0?(d(),C(u,{key:0,icon:"delete",flat:"",color:"negative",onClick:i=>e.onDeletePegawaiForm(r.pegawai_id,c)},null,8,["onClick"])):S("",!0)])]))),128)),p(u,{size:"sm",outline:"",icon:"person",label:"Tambah Petugas",color:"primary",class:"q-mt-sm",onClick:e.onAddPegawaiForm},null,8,["onClick"])])}var se=f(A,[["render",N]]);export{se as default};
