import{Q as U}from"./QImg.4440f14c.js";import{Q}from"./QBadge.5a60af85.js";import{_ as k,a as C,r as f,B as P,l as V,o as n,ad as m,g as t,w as r,aJ as x,Z as e,ai as l,am as g,ae as w,a0 as p,$ as h,a1 as B}from"./index.4e7ffe61.js";import{Q as b}from"./QForm.2a6e580a.js";import{Q as v}from"./QCardSection.d5991535.js";import{Q as _}from"./QInput.45689bc6.js";import{Q as S}from"./QCardActions.8d232048.js";import{Q as $}from"./QInnerLoading.1db0864f.js";import{Q as q}from"./QCard.3bac19a9.js";import{Q as F}from"./QDialog.3ba84a94.js";import{C as I}from"./ClosePopup.a44adeaa.js";import{u as N}from"./ref.4ae668e5.js";import{u as D}from"./users.c5b373c2.js";import{u as K}from"./auth.f8643573.js";import"./focus-manager.4350be2f.js";import"./use-dark.310a2ad4.js";import"./uid.7f2d5a47.js";import"./use-transition.405b2041.js";import"./use-prevent-scroll.7bdeec7e.js";import"./scroll.fd17398b.js";import"./use-timeout.a9330d7f.js";import"./axios.0a2aaee7.js";const y=N(),d=D(),R=K();x();const T=C({name:"users-form",preFetch({store:s,currentRoute:a}){d.get_user()},setup(){const s=f(null),a=f(null),u=P({password:{new:!0,confirm:!0}}),c=V(()=>y.devisi.filter(i=>i.devisi_id==d.form.devisi_id));return{storeRef:y,storeUser:d,storeAuth:R,devisiSub:c,myForm:s,state:u,myFormPassword:a,onDatabases(){s.value.validate().then(i=>{i&&d.set_user()})},onChangePassword(){a.value.validate().then(i=>{i&&d.set_ChangePassword()})}}}}),z={class:"row"},A={class:"col-lg-9 col-md-9 col-xs-12 col-sm-12 q-pa-md"},E={class:"row q-col-gutter-md q-mt-md"},M={class:"col-lg-3 col-md-3 col-xs-12 col-sm-12"},G={key:0,class:"col-lg-9 col-md-9 col-xs-12 col-sm-12"},J={class:"text-h4 text-weight-bold"},L={class:"row"},Z={class:"col-lg-12 col-md-12 col-xs-12 col-sm-12"},j={class:"text-weight-medium q-mb-none"},H=e("span",{class:"text-caption text-weight-medium text-blue-grey-8"},"Nomor Identitas : ",-1),O={class:"text-weight-medium q-mb-none"},W=e("span",{class:"text-caption text-weight-medium text-blue-grey-8"},"Email : ",-1),X={key:0,class:"row"},Y={class:"col-lg-4 col-md-4 col-xs-12 col-sm-12"},ss=e("span",{class:"text-caption text-weight-medium text-blue-grey-8"},"Bagian",-1),es={class:"text-weight-medium"},os={class:"col-lg-4 col-md-4 col-xs-12 col-sm-12"},ts=e("span",{class:"text-caption text-weight-medium text-blue-grey-8"},"Sub bagian",-1),as={class:"text-weight-medium"},rs=e("div",{class:"col-lg-9 bg-grey-3 col-md-3 col-xs-12 col-sm-12 radius10"},null,-1),is=e("div",{class:"text-subtitle2 text-black"},"Pergantian password akun",-1);function ls(s,a,u,c,i,ds){return n(),m("div",null,[t(b,{ref:"myForm"},{default:r(()=>[e("div",z,[e("div",A,[e("div",E,[e("div",M,[t(U,{class:"radius10",src:"/images/profile_1.png"})]),s.storeUser.profile.devisi?(n(),m("div",G,[t(Q,{label:s.storeUser.profile.role.nama,size:"sm"},null,8,["label"]),e("div",J,l(s.storeUser.profile.name),1),e("div",L,[e("div",Z,[e("p",j,[H,g(" "+l(s.storeUser.profile.identitas_no)+" ("+l(s.storeUser.profile.identitas_type)+") ",1)]),e("p",O,[W,g(" "+l(s.storeUser.profile.email),1)])])]),s.storeUser.profile.devisi?(n(),m("div",X,[e("div",Y,[ss,e("p",es,l(s.storeUser.profile.devisi.nama),1)]),e("div",os,[ts,e("p",as,l(s.storeUser.profile.devisisub.nama),1)])])):w("",!0),t(p,{label:"Ganti Password",icon:"lock",outline:"",size:"sm",color:"primary",class:"radius10",onClick:a[0]||(a[0]=o=>s.storeUser.dialog.changePassword=!0)})])):w("",!0)])]),rs])]),_:1},512),t(F,{modelValue:s.storeUser.dialog.changePassword,"onUpdate:modelValue":a[5]||(a[5]=o=>s.storeUser.dialog.changePassword=o),persistent:""},{default:r(()=>[t(q,{style:{width:"300px","border-radius":"10px"}},{default:r(()=>[t(b,{ref:"myFormPassword"},{default:r(()=>[t(v,null,{default:r(()=>[is]),_:1}),t(v,{class:"q-pt-none"},{default:r(()=>[t(_,{label:"Password baru",filled:"",dense:"",type:s.state.password.new?"password":"text",modelValue:s.storeUser.password.new,"onUpdate:modelValue":a[2]||(a[2]=o=>s.storeUser.password.new=o),disable:s.storeUser.loading.form,rules:[o=>o!==null&&o!==""||"Tidak Boleh Kosong",o=>o.length>=6||"Minimal 6 Karakter"]},{append:r(()=>[t(h,{name:s.state.password.new?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[1]||(a[1]=o=>s.state.password.new=!s.state.password.new)},null,8,["name"])]),_:1},8,["type","modelValue","disable","rules"]),t(_,{label:"Konfirmasi Password",filled:"",dense:"",type:s.state.password.confirm?"password":"text",modelValue:s.storeUser.password.confirm,"onUpdate:modelValue":a[4]||(a[4]=o=>s.storeUser.password.confirm=o),disable:s.storeUser.loading.form,rules:[o=>o!==null&&o!==""||"Tidak Boleh Kosong",o=>o==s.storeUser.password.new||"password Tidak Sama"]},{append:r(()=>[t(h,{name:s.state.password.confirm?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[3]||(a[3]=o=>s.state.password.confirm=!s.state.password.confirm)},null,8,["name"])]),_:1},8,["type","modelValue","disable","rules"])]),_:1}),t(S,{align:"right",class:"bg-white text-teal"},{default:r(()=>[B(t(p,{flat:"",label:"batal",color:"grey-8"},null,512),[[I]]),t(p,{label:"Simpan",color:"primary",unelevated:"",class:"radius10",onClick:s.onChangePassword},null,8,["onClick"])]),_:1}),t($,{showing:s.storeUser.loading.form,label:"Memproses data ..","label-class":"text-negative","label-style":"font-size: 1.1em"},null,8,["showing"])]),_:1},512)]),_:1})]),_:1},8,["modelValue"])])}var $s=k(T,[["render",ls]]);export{$s as default};
